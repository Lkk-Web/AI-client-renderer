# AI Client Renderer

ä¸€ä¸ªç°ä»£åŒ–çš„ AI èŠå¤©å‰ç«¯åº”ç”¨ï¼Œæ”¯æŒæµå¼å“åº”å’Œå®æ—¶å¯¹è¯ã€‚

## ç‰¹æ€§

- ğŸš€ **å³å¼€å³ç”¨** - æ— éœ€é…ç½®ï¼Œæ‰“å¼€å³å¯å¼€å§‹å¯¹è¯
- ğŸ’¬ **æµå¼å“åº”** - å®æ—¶æ˜¾ç¤º AI å›å¤å†…å®¹
- ğŸ¨ **ç°ä»£ UI** - åŸºäº Tailwind CSS v4 çš„ç²¾ç¾ç•Œé¢
- ğŸ“ **ä¼šè¯ç®¡ç†** - è‡ªåŠ¨åˆ›å»ºå’Œç®¡ç†å¯¹è¯ä¼šè¯
- âš¡ **é«˜æ€§èƒ½** - ä½¿ç”¨ Vite + React æ„å»ºï¼Œå“åº”è¿…é€Ÿ

## æŠ€æœ¯æ ˆ

- **æ¡†æ¶**: React 19 + TypeScript
- **æ„å»ºå·¥å…·**: Vite 6
- **çŠ¶æ€ç®¡ç†**: Zustand
- **æ ·å¼**: Tailwind CSS v4
- **UI ç»„ä»¶**: Base UI Components
- **å›¾æ ‡**: Hugeicons

## å¿«é€Ÿå¼€å§‹

### å‰ç½®è¦æ±‚

- Node.js 18+
- åç«¯æœåŠ¡è¿è¡Œåœ¨ `http://127.0.0.1:62345`

### å®‰è£…

```bash
# å®‰è£…ä¾èµ–
npm install

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run dev
```

åº”ç”¨å°†åœ¨ `http://localhost:5173` å¯åŠ¨ã€‚

### æ„å»º

```bash
# ç”Ÿäº§æ„å»º
npm run build

# é¢„è§ˆæ„å»ºç»“æœ
npm run preview
```

## é…ç½®

### åç«¯ API

é»˜è®¤åç«¯åœ°å€é…ç½®åœ¨ `vite.config.ts` ä¸­ï¼š

```typescript
server: {
  proxy: {
    '/api': {
      target: 'http://127.0.0.1:62345',
      changeOrigin: true,
      rewrite: (path) => path.replace(/^\/api/, ''),
    },
  },
}
```

å¦‚éœ€ä¿®æ”¹åç«¯åœ°å€ï¼Œç¼–è¾‘ `vite.config.ts` ä¸­çš„ `target` å­—æ®µã€‚

### API è¯·æ±‚æ ¼å¼

åº”ç”¨å‘ `/copilot/hook` å‘é€ POST è¯·æ±‚ï¼š

```json
{
  "app": "KNOWLEDGE_ASSISTANT",
  "agentName": "knowledge-agent",
  "data": {
    "content": "ç”¨æˆ·æ¶ˆæ¯å†…å®¹",
    "type": "text",
    ...
  },
  "replyMode": "stream",
  "sessionId": "ä¼šè¯ID",
  "companyId": 10424
}
```

åç«¯è¿”å› SSE (Server-Sent Events) æ ¼å¼çš„æµå¼å“åº”ã€‚

## é¡¹ç›®ç»“æ„

```
â”œâ”€â”€ components/          # React ç»„ä»¶
â”‚   â”œâ”€â”€ ChatInput/      # èŠå¤©è¾“å…¥ç»„ä»¶
â”‚   â”œâ”€â”€ messages/       # æ¶ˆæ¯æ˜¾ç¤ºç»„ä»¶
â”‚   â”œâ”€â”€ settings/       # è®¾ç½®é¢æ¿
â”‚   â””â”€â”€ ui/             # åŸºç¡€ UI ç»„ä»¶
â”œâ”€â”€ hooks/              # è‡ªå®šä¹‰ Hooks
â”œâ”€â”€ store/              # Zustand çŠ¶æ€ç®¡ç†
â”œâ”€â”€ client/             # API å®¢æˆ·ç«¯
â”‚   â”œâ”€â”€ messaging/      # æ¶ˆæ¯æ€»çº¿
â”‚   â”œâ”€â”€ transport/      # WebSocket ä¼ è¾“å±‚
â”‚   â””â”€â”€ types/          # ç±»å‹å®šä¹‰
â”œâ”€â”€ utils/              # å·¥å…·å‡½æ•°
â””â”€â”€ App.tsx             # åº”ç”¨å…¥å£

```

## å¼€å‘

### æ·»åŠ æ–°åŠŸèƒ½

1. åœ¨ `components/` ä¸­åˆ›å»ºæ–°ç»„ä»¶
2. åœ¨ `store.tsx` ä¸­æ·»åŠ çŠ¶æ€ç®¡ç†é€»è¾‘
3. åœ¨ `hooks/` ä¸­æ·»åŠ è‡ªå®šä¹‰ Hooksï¼ˆå¦‚éœ€è¦ï¼‰

### è°ƒè¯•

æ‰“å¼€æµè§ˆå™¨å¼€å‘è€…å·¥å…·ï¼ˆF12ï¼‰ï¼ŒæŸ¥çœ‹æ§åˆ¶å°æ—¥å¿—ï¼š
- `[STREAM CHUNK]` - æ¥æ”¶åˆ°çš„æµå¼æ•°æ®
- `[CREATE MESSAGE]` - åˆ›å»ºæ–°æ¶ˆæ¯
- `[UPDATE MESSAGE]` - æ›´æ–°æ¶ˆæ¯å†…å®¹

## è®¸å¯è¯

ISC
